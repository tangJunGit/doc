<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="renderer" content="webkit"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="#">
    <title>力导向图</title>
    <style type="text/css">
        svg.force{
            background: #eee;
        }
        .force circle{
            fill:steelblue;
            stroke-width:1;
            stroke:#ccc;
        }
    </style>
</head>
<body>
   <svg class="force" width="400" height="400"></svg>

   <script src="https://d3js.org/d3.v4.min.js"></script>
   <script>
        // 获取svg信息
        var svg = d3.select('.force')
            width = svg.attr('width'),
            height = svg.attr('height');

        // 创建测试数据
        var nodes = [{name: "张三"}, 
                    {name: "李四"}, 
                    {name: "黄五"}, 
                    {name: "马六"}, 
                    {name: "陈七"}, 
                    {name: "王八"}, 
                    {name: "徐九"}],
            links = [{source: 0,target: 1,tag: "朋友"}, 
                    {source: 0,target: 2,tag: "情侣"}, 
                    {source: 0,target: 3,tag: "同事"}, 
                    {source: 1,target: 4,tag: "同学"}, 
                    {source: 2,target: 5,tag: "领导"}, 
                    {source: 1,target: 6,tag: "基友"}];

        // 绘画图形
        var simulation = d3.forceSimulation(nodes)
                        .force("link", d3.forceLink(links).distance(200))           // 节点间的作用力
                        .force("charge", d3.forceManyBody().strength(-300))         // 连线作用力
                        .force("center", d3.forceCenter(width / 2, height / 2))     // 重力，布局有一个参考位置，不会跑偏
                        // .on("tick", ticked);

        console.log(nodes);
        console.log(links)

   </script>
</body>
</html>